<!DOCTYPE html>
<html>
<head>
    <title>Match Result - Blood Donation App</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Include the header -->
    {{ template "dash_header.html" . }}
    <main>
        <section>
            <h2>نتيجة التّطابق</h2>
            <p>عدد المتبرّعين المتطابقين: <span id="match_count">{{ len .donors }}</span></p>
            <p>المريض: <span id="patient_first_name">{{ .patient_first_name }}</span> <span id="patient_last_name">{{ .patient_last_name }}</span></p>
            <p>فصيلة الدم: <span id="patient_blood_type">{{ .patient_blood_type }}</span></p>
            <p>المستشفى: <span id="hospital">{{ .hospital_name }}</span></p>
            <h3>المتبرّعين المتطابقين:</h3>
            <button id="selectAllButton">اختيار الجميع</button>
            <button id="deselectAllButton">إلغاء اختيار الجميع</button>
            <table>
                <thead>
                    <tr>
                        <th>اختيار</th>
                        <th>ID</th>
                        <th>الاسم</th>
                        <th>اللقب</th>
                        <th>فصيلة الدم</th>
                        <th>رقم الهاتف</th>
                        <th>العنوان</th>
                        <th>البريد الإلكتروني</th>
                        <th>العمر</th>
                        <th>الجنس</th>
                    </tr>
                </thead>
                <tbody>
                    {{ range .donors }}
                    <tr>
                        <td><input type="checkbox" class="donor-checkbox" data-id="{{ .id }}"></td>
                        <td>{{ .id }}</td>
                        <td>{{ .first_name }}</td>
                        <td>{{ .last_name }}</td>
                        <td>{{ .bloodType }}</td>
                        <td>{{ .phone_number }}</td>
                        <td>{{ .address }}</td>
                        <td>{{ .email }}</td>
                        <td>{{ .age }}</td>
                        <td>{{ .gender }}</td>
                    </tr>
                    {{ end }}
                </tbody>
            </table>
            <button id="sendButton">إرسال رسائل الوتسآب</button>
            <div id="sendResult"></div>
            <div id="progressBarContainer">
                <div id="progressBar"></div>
            </div>
        </section>
    </main>
    <script src="js/match_result.js"></script>
</body>
</html>